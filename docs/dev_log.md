# Дневник разработки

## 2026-01-09

- Сделано: создан каркас CMake, разбивка на модули, реализованы DXGI захват и GDI fallback, WIC кодирование JPEG, CLI и логирование, базовый набор тестов и CI.
- Обновление: параметр `--out` стал необязательным, по умолчанию используется текущая папка; README обновлен.
- Обновление: добавлена проверка черного кадра DXGI и принудительный переход на GDI при необходимости.
- Обновление: добавлен периодический режим — скриншоты каждые N секунд (по умолчанию 10), параметры `--interval-seconds` и `--count`, E2E тест ограничен `--count 1`.
- Обновление: добавлено сканирование процессов с логированием появления/завершения и временем работы.
- Обновление: разделены логи — основной лог теперь рядом с приложением, лог процессов остается в папке вывода.
- Решения: выбран Desktop Duplication как самый быстрый путь захвата; GDI оставлен как совместимый fallback; качество JPEG установлено на 0.01 для максимального сжатия; лог-файл хранится по датам.
- Проблемы/риски: возможны таймауты Desktop Duplication; не учитывается поворот экрана (rotation); E2E в CI использует синтетический режим.
- Дальше: прогнать тесты локально и проверить на реальных мульти-мониторных конфигурациях.