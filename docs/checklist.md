# Чек-лист готовности

## ✅ Сделано

- Каркас CMake и структура модулей.
- DXGI захват с fallback на GDI.
- Проверка черного кадра DXGI с принудительным fallback на GDI.
- Периодический режим захвата с интервалом и ограничением количества циклов (по умолчанию 10 секунд).
- Логирование появления/завершения процессов и времени их работы.
- Разделены логи: основной рядом с приложением, логи процессов в подпапке `p` дневного каталога и отдельные файлы на процесс.
- Кодировка логов UTF-16LE с BOM для корректного русского текста.
- Логи процессов: события `открыт/работает/закрыт`, запись `работает` при старте и каждый час.
- WIC кодирование JPEG с максимальным сжатием.
- CLI с `--out` (по умолчанию подпапка `p` в текущей папке), логирование и строгая структура папок.
- Путь по умолчанию (`--out` не задан) перенесен в подпапку `p` текущей папки запуска.
- Устранено предупреждение C4005 (PASCAL) корректным порядком include.
- Добавлена проверка единственного экземпляра через mutex.
- Unit/Integration/E2E тесты.
- CI workflow под Windows.

## 🟡 В процессе

- Проверка на реальных мульти-мониторных конфигурациях и различных DPI.

## ⛔ Не сделано

- Нет.

## 🧪 Тесты/CI (что покрыто, что нет)

- Unit: sanitize, форматы даты/времени, генерация имени файла.
- Integration: создание директорий, сохранение JPEG из тестового буфера.
- E2E: запуск утилиты в режиме `--test-image --simulate-displays --count`.
- Ограничение: CI не выполняет реальный захват экрана.

## 📌 Известные ограничения/техдолг

- Не компенсируется поворот экрана (rotation) в DXGI.
- Тестовый режим использует синтетический размер 256x256.
- Захват выполняется последовательно (параллельный конвейер не реализован).
